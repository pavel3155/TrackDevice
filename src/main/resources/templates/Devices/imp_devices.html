<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Новое ТС</title>
	<link rel="stylesheet" href="/css/style.css">
    <link rel="stylesheet" href="/css/style-form.css">
</head>

<header>
	<div id="header">
		<script src="/js/header-for-dir.js"></script>
	</div>
	<div th:replace="Index ::navigation"></div>
</header>
<body>
	<div class="container">
		<form class="forms-child"  enctype="multipart/form-data"
			  th:method="post"
			  th:action="@{/Devices/imp_devices}"
			  th:object="${deviceDTO}">

			<div style=" width: 95%" class="grid_2x3">
					<div style="grid-area: 1 / 1 / 3 / 2; justify-self: center;">
						<p th:text="'Импорт ТС: ' + ${deviceDTO.modelDevice.type.type}+': '+${deviceDTO.modelDevice.name}"> </p>
						<div style="display: flex; justify-content: center;">
							<input  type="file" id="idInpFileDev" name="file"/>
						</div>
					</div>
					<div style="grid-area: 1 / 2 / 3 / 3; justify-self: stretch;">
						<table class="table"  id="tblInf1">
							<tr>
								<td style="width: 60%" th:text="'Количество импортируемых ТС:'"></td>
								<td style="width: 40%" th:text="${numberEntries}"></td>
							</tr>
							<tr>
								<td  style="width: 60%" th:text="'Импортировано ТС : '"></td>
								<td style="width: 40%" th:text="${impNumberRecords}"></td>
							</tr>
							<tr>
								<td  style="width: 60%" th:text="'Не импортировано ТС : '"></td>
								<td style="width: 40%" th:text="${notImpNumberRecords}"></td>
							</tr>
						</table>
					</div>
			</div>


			<div class="container-inner">
				<div th:if="${import}" class ="tbl-div">
					<!--
					<table class="table" style="width: 60%" id="tblInf">
						<tr>
							<td style="width: 60%" th:text="'Количество импортируемых ТС:'"></td>

							<td style="width: 40%" th:text="${numberEntries}"></td>
						</tr>
						<tr>
							<td  style="width: 60%" th:text="'Импортировано ТС : '"></td>
							<td style="width: 40%" th:text="${impNumberRecords}"></td>
						</tr>
						</tr>
						<tr>
							<td  style="width: 60%" th:text="'Не импортировано ТС : '"></td>
							<td style="width: 40%" th:text="${notImpNumberRecords}"></td>
						</tr>
					</table>
					-->
					<table th:if="!${success}" class="table" id="tblDevNotImp">
						<tr>
							<th class ="dev-col-num">№</th>
							<th>Тип</th>
							<th>Модель</th>
							<th>Серийные №</th>
							<th>Инвентарный №</th>
							<th>Примечание</th>
						</tr>
						<tr th:each = "devNotImp, curIteration  : ${devsNotImp}">
							<td class ="dev-col-num" th:text = "${curIteration.index+1}"></td>
							<td class="AlignCenter" th:text="${devNotImp.type}"></td>
							<td class="AlignCenter" th:text="${devNotImp.model}"></td>
							<td class="AlignCenter" th:text="${devNotImp.serNum}"></td>
							<td class="AlignCenter" th:text="${devNotImp.invNum}"></td>
							<td class="AlignCenter" th:text="${devNotImp.comment}"></td>
						</tr>
					</table>
				</div>
			</div>

			<input type="hidden" th:value="${modelDevice}" th:field="*{modelDevice}">
			<input type="hidden" th:value="${csa}" th:field="*{csa}">

			<span style="margin:20px 5px 5px 5px">
				<button type="submit" class="a-btn">Загрузить</button>
				<a href="/device" class="a-btn">Назад</a>
			</span>
		</form>
	</div>
</body>

</html>
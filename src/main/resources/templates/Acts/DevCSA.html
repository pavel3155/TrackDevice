<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org"
                xmlns:sec="http://www.thymeleaf.org/extras/spring-security">
<head>
    <meta charset="UTF-8">
    <title>(ТС)Технические средства</title>
    <link rel="stylesheet" href="/css/style.css">
	<link rel="stylesheet" href="/css/style-form.css">
	<script src="/js/jquery-3.7.1.js"></script>
</head>

<header>
	<div id="header">
		<script src="/js/header-for-dir.js"></script>
	</div>
	<div th:replace="Index ::navigation"></div>
</header>

<body>
	<span class="container">
		<form class="forms-child"
			  th:method="POST"
			  th:action="@{/Acts/trDevSC}"
			  th:object="${actDevDTO}">

			<span class="margin-t">
				<input type="hidden" id ="ActDev_id" th:value="${id}" th:field="*{id}">
				<input type="hidden" id ="ActDev_num" th:value="${num}" th:field="*{num}">
				<input type="hidden" id ="ActDev_date" th:value="${date}" th:field="*{date}">
				<input type="hidden" id ="ActDev_actType" th:value="${actType}" th:field="*{actType}">
				<input type="hidden" id ="ActDev_fromCSA" th:value="${fromCSA}" th:field="*{fromCSA}">
				<input type="hidden" id ="ActDev_toCSA" th:value="${toCSA}" th:field="*{toCSA}">
				<input type="hidden" id ="ActDev_order" th:value="${order}" th:field="*{order}">
				<input type="hidden" id ="ActDev_note" th:value="${note}" th:field="*{note}">
				<input type="hidden" id ="ActDev_idSelDev" th:value="${idSelDev}" th:field="*{idSelDev}">
				<input type="hidden" id ="idCSA"  th:value="${idFromCSA}" th:field="*{idFromCSA}">

			<div class ="tbl-div">
				<table class="table" id="tblDevice">
					<tr>
						<th>Тип</th>
						<th>Модель</th>
						<th>Серийные №</th>
						<th>Инвентарный №</th>
						<th class ="dev-col-action">Действие</th>
					</tr>

					<tr style="text-align:center" th:each="dev : ${devices}">
						<td th:text="${dev.model.type.type}"></td>
						<td th:text="${dev.model.name}"></td>
						<td th:text="${dev.sernum}"></td>
						<td th:text="${dev.invnum}"></td>
						<td>
							<span class="tbl-td-span-inline">
								<a href="#" class="a-btn a-btn-tbl" th:onclick="selDev([[${dev.id}]])">Открыть</a>
							</span>
						</td>
					</tr>
				</table>
			</div>
			<div>
				<span id="link"></span>
				<span><a href="/Acts/ActDev" class="a-btn">Назад</a></span>
			</div>
			<input type="submit" id="btnSend" style="display:none;">
			<script>

				function selDev(idDev){
					console.log("GoToActDev...");
					console.log("idDevice:="+idDev);
					$('#ActDev_idSelDev').val(idDev);
					/* $('#frSelCSA').attr("action","/addOrder?idCSA=4"); */
					$('#btnSend').click();
				}
			</script>

		</form>
	</span>
</body>

</html>
<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <link rel="stylesheet" href="/css/style.css">
	<link rel="stylesheet" href="/css/style-form.css">
	<title>Регистрация</title>
</head>
<header>
	<div id="header">
		<script src="/js/header-for-dir.js"></script>
	</div>
	<div th:replace="~{index ::navigation}"></div>
</header>
<body>
<div class="container">

	<form class="auth_form"
		  th:method="post"
		  th:action="@{/Users/saveUser}"
		  th:object="${registerDTO}">
		<div class="container-inner" style="height: 85%;margin:0px;padding:10px 0px 5px 0px">
			<div style="margin:5px 0px 20px 0px; padding:0px">
				<h3 style="text-align: center;margin:0px 0px 5px 0px;padding:0px">Пользователь</h3>
				<h5  th:if="${success}" style="text-align:center;margin:0px;padding:0px;color:blue;">Пользователь успешно сохранен!</h5>
			</div>
				<div class ="tbl-div-noflex" style="margin:0px">
					<input id ="idUser" type="hidden" th:value="${registerDTO.id}" th:field="*{id}">
					<div class="div_error">
						<p th:if="${#fields.hasErrors('name')}"  th:errors="*{name}"></p>
					</div>
					<div class="auth_form_div">
						<label for="input_name">Имя: </label>
						<input type="text" id="input_name" name="name" th:value="${registerDTO.name}" th:field="*{name}"/>
					</div>
					<div class="div_error">
						<p th:if="${#fields.hasErrors('surname')}" th:errors="*{surname}"></p>
					</div>
					<div class="auth_form_div">
						<label for="input_surname">Фамилия: </label>
						<input type="text" id="input_surname" name="surname" th:value="${registerDTO.surname}" th:field="*{surname}" />
					</div>
					<div class="div_error">
						<p th:if="${#fields.hasErrors('email')}" th:errors="*{email}" ></p>
					</div>
					<div class="auth_form_div">
						<label for="input_email">Email: </label>
						<input type="text" id="input_email" name="email" th:value="${registerDTO.email}" th:field="*{email}"  />
					</div>
					<div class="div_error">
						<p th:if="${#fields.hasErrors('password')}" th:errors="*{password}"></p>
					</div>
					<div class="auth_form_div">
						<label for="input_password">Пароль: </label>
						<input type="password" id="input_password" name="password" th:field="*{password}"/>
					</div>
					<div class="div_error">
						<p th:if="${#fields.hasErrors('confirmPassword')}" th:errors="*{confirmPassword}"></p>
					</div>
					<div class="auth_form_div">
						<label for="confirm_password">Подтвердите пароль: </label>
						<input type="password" id="confirm_password" name="conf_password" th:field="*{confirmPassword}"/>
					</div>

					<div class="auth_form_div">
						<label for="input_role">Роль: </label>
						<select  id="input_role" th:field="*{role}">
							<option th:each="role : ${roles}"
									th:value="${role.id}"
									th:text="${role.type}"
									th:selected="${role.id == registerDTO.role.id}">
							</option>
						</select>
					</div>
					<div class="auth_form_div">
						<label for="input_csa">КСА: </label>
						<select  id="input_csa" th:field="*{csa}">
							<option th:each="csa : ${csas}"
									th:value="${csa.id}"
									th:text="${csa.num}"
									th:selected="${csa.id == registerDTO.csa.id}">
							</option>
						</select>
					</div>
				</div>
			<div style="display: flex;justify-content: center;">
				<button type="submit" class="a-btn">Сохранить</button>
				<a href="/Users/showUsers" class="a-btn">Назад</a>
			</div>
		</div>

	</form>
</div>
</body>
</html>